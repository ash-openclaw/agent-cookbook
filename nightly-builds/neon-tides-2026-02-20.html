<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Neon Tides at Midnight</title>
<style>
body { margin: 0; background: #050510; }
canvas { display: block; }
</style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = 1200;
canvas.height = 800;

// Utility functions
function random(min, max) { return Math.random() * (max - min) + min; }

// Deep cyberpunk night sky gradient
const skyGradient = ctx.createLinearGradient(0, 0, 0, 400);
skyGradient.addColorStop(0, '#0a0a1a');
skyGradient.addColorStop(0.5, '#1a1a3e');
skyGradient.addColorStop(1, '#2d1b4e');
ctx.fillStyle = skyGradient;
ctx.fillRect(0, 0, 1200, 400);

// Stars with occasional neon-tinted ones
for (let i = 0; i < 200; i++) {
    const x = random(0, 1200);
    const y = random(0, 350);
    const size = random(0.5, 2);
    const isNeon = Math.random() > 0.95;
    ctx.beginPath();
    ctx.arc(x, y, size, 0, Math.PI * 2);
    ctx.fillStyle = isNeon ? '#ff00ff' : 'rgba(255, 255, 255, 0.8)';
    ctx.fill();
}

// Cyberpunk city skyline - layered buildings
function drawBuilding(x, width, height, color, windowColor) {
    // Building body
    ctx.fillStyle = color;
    ctx.fillRect(x, 400 - height, width, height);
    
    // Windows - grid pattern
    const rows = Math.floor(height / 15);
    const cols = Math.floor(width / 10);
    for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
            if (Math.random() > 0.4) {
                const wx = x + c * 10 + 2;
                const wy = 400 - height + r * 15 + 2;
                ctx.fillStyle = windowColor;
                ctx.globalAlpha = random(0.3, 0.9);
                ctx.fillRect(wx, wy, 6, 10);
                ctx.globalAlpha = 1;
            }
        }
    }
    
    // Neon edge lighting
    ctx.strokeStyle = windowColor;
    ctx.lineWidth = 2;
    ctx.globalAlpha = 0.7;
    ctx.beginPath();
    ctx.moveTo(x, 400 - height);
    ctx.lineTo(x + width, 400 - height);
    ctx.stroke();
    ctx.globalAlpha = 1;
}

// Generate city skyline
const buildingColors = ['#1a1a2e', '#16213e', '#0f3460', '#1a1a3e'];
const neonColors = ['#00ffff', '#ff00ff', '#00ff88', '#ff0088', '#8800ff'];

let currentX = 0;
while (currentX < 1200) {
    const width = random(40, 100);
    const height = random(150, 350);
    const color = buildingColors[Math.floor(random(0, buildingColors.length))];
    const neonColor = neonColors[Math.floor(random(0, neonColors.length))];
    drawBuilding(currentX, width, height, color, neonColor);
    currentX += width - random(5, 15); // Slight overlap
}

// Skyline glow reflection on water
const skylineGlow = ctx.createLinearGradient(0, 400, 0, 600);
skylineGlow.addColorStop(0, 'rgba(255, 0, 255, 0.3)');
skylineGlow.addColorStop(0.3, 'rgba(0, 255, 255, 0.2)');
skylineGlow.addColorStop(0.6, 'rgba(136, 0, 255, 0.1)');
skylineGlow.addColorStop(1, 'transparent');
ctx.fillStyle = skylineGlow;
ctx.fillRect(0, 400, 1200, 200);

// Ocean surface with bioluminescent waves
const waveLayers = [
    { color: '#00ffff', alpha: 0.6, speed: 1, amplitude: 20 },
    { color: '#ff00ff', alpha: 0.4, speed: 1.5, amplitude: 25 },
    { color: '#00ff88', alpha: 0.5, speed: 0.8, amplitude: 15 },
    { color: '#8800ff', alpha: 0.3, speed: 1.2, amplitude: 30 }
];

waveLayers.forEach((layer, i) => {
    ctx.beginPath();
    ctx.moveTo(0, 800);
    for (let x = 0; x <= 1200; x += 5) {
        const y = 450 + i * 80 + Math.sin(x * 0.01 + i) * layer.amplitude + 
                  Math.sin(x * 0.02 + i * 2) * (layer.amplitude * 0.5);
        ctx.lineTo(x, y);
    }
    ctx.lineTo(1200, 800);
    ctx.lineTo(0, 800);
    ctx.closePath();
    
    // Glow effect
    ctx.fillStyle = layer.color;
    ctx.globalAlpha = layer.alpha;
    ctx.fill();
    
    // Highlight line
    ctx.strokeStyle = layer.color;
    ctx.lineWidth = 2;
    ctx.globalAlpha = layer.alpha * 1.5;
    ctx.beginPath();
    for (let x = 0; x <= 1200; x += 5) {
        const y = 450 + i * 80 + Math.sin(x * 0.01 + i) * layer.amplitude + 
                  Math.sin(x * 0.02 + i * 2) * (layer.amplitude * 0.5);
        if (x === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
    }
    ctx.stroke();
    ctx.globalAlpha = 1;
});

// Bioluminescent foam/particles on waves
for (let i = 0; i < 150; i++) {
    const x = random(0, 1200);
    const layer = Math.floor(random(0, 4));
    const baseY = 450 + layer * 80;
    const y = baseY + random(-20, 40);
    const size = random(1, 4);
    const colors = ['#00ffff', '#ff00ff', '#00ff88', '#ffffff'];
    
    ctx.beginPath();
    ctx.arc(x, y, size, 0, Math.PI * 2);
    ctx.fillStyle = colors[Math.floor(random(0, colors.length))];
    ctx.globalAlpha = random(0.3, 0.8);
    ctx.fill();
}
ctx.globalAlpha = 1;

// City reflection in water (distorted)
for (let i = 0; i < 50; i++) {
    const x = random(0, 1200);
    const y = random(450, 750);
    const width = random(2, 20);
    const height = random(10, 100);
    const colors = ['#00ffff', '#ff00ff', '#00ff88', '#ff0088'];
    
    ctx.fillStyle = colors[Math.floor(random(0, colors.length))];
    ctx.globalAlpha = random(0.1, 0.3);
    ctx.fillRect(x, y, width, height);
}
ctx.globalAlpha = 1;

// Flowing energy lines - representing tide motion
for (let i = 0; i < 30; i++) {
    ctx.beginPath();
    const startX = random(0, 1200);
    const startY = random(500, 750);
    ctx.moveTo(startX, startY);
    
    let x = startX;
    let y = startY;
    for (let step = 0; step < 20; step++) {
        x += random(-30, 30);
        y += random(-10, 10);
        ctx.lineTo(x, y);
    }
    
    const colors = ['#00ffff', '#ff00ff', '#00ff88'];
    ctx.strokeStyle = colors[Math.floor(random(0, colors.length))];
    ctx.lineWidth = random(1, 3);
    ctx.globalAlpha = random(0.2, 0.5);
    ctx.stroke();
}
ctx.globalAlpha = 1;

// Scan line effect - digital/cyberpunk aesthetic
ctx.fillStyle = 'rgba(0, 255, 255, 0.03)';
for (let y = 0; y < 800; y += 4) {
    ctx.fillRect(0, y, 1200, 1);
}

// Vignette
const vignette = ctx.createRadialGradient(600, 400, 300, 600, 400, 700);
vignette.addColorStop(0, 'transparent');
vignette.addColorStop(1, 'rgba(0, 0, 0, 0.5)');
ctx.fillStyle = vignette;
ctx.fillRect(0, 0, 1200, 800);

// Title
ctx.font = 'italic 300 18px "Courier New", monospace';
ctx.fillStyle = '#00ffff';
ctx.textAlign = 'right';
ctx.globalAlpha = 0.7;
ctx.fillText('Neon Tides at Midnight', 1180, 780);
ctx.globalAlpha = 1;

</script>
</body>
</html>