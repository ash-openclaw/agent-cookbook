<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Clockwork Garden</title>
    <style>
        body { margin: 0; background: #0d0f12; }
        canvas { display: block; }
    </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = 1200;
canvas.height = 800;

// Color palette - brass, copper, verdigris, botanical
const colors = {
    brass: '#D4A853',
    copper: '#B87333',
    verdigris: '#43B3AE',
    darkCopper: '#8B4513',
    gold: '#FFD700',
    sage: '#9CAF88',
    moss: '#5F6B4F',
    bronze: '#CD7F32',
    rust: '#A0522D',
    deepGreen: '#2F4538'
};

// Utility functions
function random(min, max) { return Math.random() * (max - min) + min; }
function toRad(deg) { return deg * Math.PI / 180; }

// Draw a gear with petal extensions
function drawGear(x, y, radius, teeth, rotation, color, hasPetals = false) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(rotation);
    
    // Gear body
    ctx.beginPath();
    ctx.arc(0, 0, radius * 0.7, 0, Math.PI * 2);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.strokeStyle = colors.darkCopper;
    ctx.lineWidth = 2;
    ctx.stroke();
    
    // Gear teeth
    for (let i = 0; i < teeth; i++) {
        const angle = (i / teeth) * Math.PI * 2;
        ctx.save();
        ctx.rotate(angle);
        ctx.beginPath();
        ctx.rect(-radius * 0.12, -radius, radius * 0.24, radius * 0.3);
        ctx.fillStyle = color;
        ctx.fill();
        ctx.stroke();
        ctx.restore();
    }
    
    // Center hub
    ctx.beginPath();
    ctx.arc(0, 0, radius * 0.25, 0, Math.PI * 2);
    ctx.fillStyle = colors.gold;
    ctx.fill();
    ctx.strokeStyle = colors.darkCopper;
    ctx.lineWidth = 3;
    ctx.stroke();
    
    // Petal extensions (for flower-like gears)
    if (hasPetals) {
        const petalCount = 6;
        for (let i = 0; i < petalCount; i++) {
            const angle = (i / petalCount) * Math.PI * 2 + Math.PI / petalCount;
            ctx.save();
            ctx.rotate(angle);
            ctx.beginPath();
            ctx.ellipse(0, -radius * 1.3, radius * 0.3, radius * 0.6, 0, 0, Math.PI * 2);
            ctx.fillStyle = colors.verdigris;
            ctx.fill();
            ctx.strokeStyle = colors.copper;
            ctx.lineWidth = 1;
            ctx.stroke();
            
            // Vein detail
            ctx.beginPath();
            ctx.moveTo(0, -radius * 0.9);
            ctx.lineTo(0, -radius * 1.7);
            ctx.strokeStyle = colors.darkCopper;
            ctx.lineWidth = 1;
            ctx.stroke();
            ctx.restore();
        }
    }
    
    ctx.restore();
}

// Draw copper wire vine
function drawVine(startX, startY, controlX, controlY, endX, endY, width, color) {
    ctx.beginPath();
    ctx.moveTo(startX, startY);
    ctx.quadraticCurveTo(controlX, controlY, endX, endY);
    ctx.strokeStyle = color;
    ctx.lineWidth = width;
    ctx.lineCap = 'round';
    ctx.stroke();
    
    // Add wire texture
    ctx.beginPath();
    ctx.moveTo(startX, startY - width * 0.3);
    ctx.quadraticCurveTo(controlX, controlY - width * 0.3, endX, endY - width * 0.3);
    ctx.strokeStyle = colors.gold;
    ctx.lineWidth = width * 0.3;
    ctx.stroke();
}

// Draw mechanical leaf
function drawMechanicalLeaf(x, y, size, angle, type = 'gear') {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(angle);
    
    if (type === 'gear') {
        // Gear-like leaf
        ctx.beginPath();
        for (let i = 0; i < 8; i++) {
            const a = (i / 8) * Math.PI * 2;
            const r = i % 2 === 0 ? size : size * 0.6;
            const px = Math.cos(a) * r;
            const py = Math.sin(a) * r;
            if (i === 0) ctx.moveTo(px, py);
            else ctx.lineTo(px, py);
        }
        ctx.closePath();
        ctx.fillStyle = colors.verdigris;
        ctx.fill();
        ctx.strokeStyle = colors.copper;
        ctx.lineWidth = 2;
        ctx.stroke();
    } else {
        // Brass plate leaf
        ctx.beginPath();
        ctx.ellipse(0, -size * 0.5, size * 0.4, size * 0.8, 0, 0, Math.PI * 2);
        ctx.fillStyle = colors.brass;
        ctx.fill();
        ctx.strokeStyle = colors.darkCopper;
        ctx.lineWidth = 2;
        ctx.stroke();
        
        // Rivets
        for (let i = 0; i < 3; i++) {
            ctx.beginPath();
            ctx.arc(-size * 0.15, -size * (0.3 + i * 0.3), size * 0.08, 0, Math.PI * 2);
            ctx.fillStyle = colors.copper;
            ctx.fill();
        }
    }
    
    ctx.restore();
}

// Draw mechanical bee
function drawMechanicalBee(x, y, rotation, scale = 1) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(rotation);
    ctx.scale(scale, scale);
    
    // Body segments
    const segments = [
        { x: 0, y: 0, r: 12, color: colors.gold },
        { x: -18, y: 0, r: 10, color: colors.brass },
        { x: -32, y: 0, r: 8, color: colors.copper }
    ];
    
    segments.forEach(seg => {
        ctx.beginPath();
        ctx.arc(seg.x, seg.y, seg.r, 0, Math.PI * 2);
        ctx.fillStyle = seg.color;
        ctx.fill();
        ctx.strokeStyle = colors.darkCopper;
        ctx.lineWidth = 1;
        ctx.stroke();
    });
    
    // Stripes
    ctx.fillStyle = colors.rust;
    ctx.fillRect(-22, -8, 4, 16);
    ctx.fillRect(-30, -6, 3, 12);
    
    // Wings
    const wingOffset = Math.sin(Date.now() * 0.01) * 0.3;
    
    // Left wing
    ctx.save();
    ctx.rotate(-0.5 + wingOffset);
    ctx.beginPath();
    ctx.ellipse(5, -20, 25, 10, 0, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(67, 179, 174, 0.4)';
    ctx.fill();
    ctx.strokeStyle = colors.copper;
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.restore();
    
    // Right wing
    ctx.save();
    ctx.rotate(0.5 - wingOffset);
    ctx.beginPath();
    ctx.ellipse(5, 20, 25, 10, 0, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(67, 179, 174, 0.4)';
    ctx.fill();
    ctx.strokeStyle = colors.copper;
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.restore();
    
    // Antennae
    ctx.beginPath();
    ctx.moveTo(12, -4);
    ctx.lineTo(22, -12);
    ctx.moveTo(12, 4);
    ctx.lineTo(22, 12);
    ctx.strokeStyle = colors.copper;
    ctx.lineWidth = 1.5;
    ctx.stroke();
    
    ctx.restore();
}

// Draw background gradient
const bgGradient = ctx.createRadialGradient(600, 400, 100, 600, 400, 600);
bgGradient.addColorStop(0, '#2a3d3a');
bgGradient.addColorStop(0.5, '#1a2622');
bgGradient.addColorStop(1, '#0d1412');
ctx.fillStyle = bgGradient;
ctx.fillRect(0, 0, 1200, 800);

// Draw main mechanical flower (large central gear-flower)
drawGear(600, 400, 80, 12, toRad(15), colors.brass, true);
drawGear(600, 400, 45, 8, toRad(-30), colors.copper, false);
drawGear(600, 400, 20, 6, toRad(45), colors.gold, false);

// Draw surrounding smaller gear-flowers
const smallFlowers = [
    { x: 300, y: 250, size: 50 },
    { x: 900, y: 280, size: 55 },
    { x: 250, y: 550, size: 45 },
    { x: 950, y: 520, size: 50 },
    { x: 750, y: 650, size: 40 },
    { x: 400, y: 150, size: 35 },
    { x: 800, y: 120, size: 30 }
];

smallFlowers.forEach((flower, i) => {
    const rotation = toRad(i * 45 + 20);
    const hasPetals = i % 2 === 0;
    const color = i % 3 === 0 ? colors.copper : (i % 3 === 1 ? colors.brass : colors.bronze);
    drawGear(flower.x, flower.y, flower.size, 10, rotation, color, hasPetals);
});

// Draw copper wire vines connecting the flowers
const vines = [
    { sx: 300, sy: 250, cx: 450, cy: 320, ex: 520, ey: 400, w: 4 },
    { sx: 900, sy: 280, cx: 750, cy: 340, ex: 680, ey: 400, w: 4 },
    { sx: 250, sy: 550, cx: 420, cy: 480, ex: 520, ey: 460, w: 3 },
    { sx: 950, sy: 520, cx: 780, cy: 460, ex: 680, ey: 440, w: 3 },
    { sx: 600, sy: 320, cx: 600, cy: 200, ex: 400, ey: 185, w: 3 },
    { sx: 750, sy: 650, cx: 680, cy: 540, ex: 640, ey: 480, w: 3 },
    { sx: 300, sy: 250, cx: 200, cy: 200, ex: 150, ey: 100, w: 2 },
    { sx: 900, sy: 280, cx: 1000, cy: 200, ex: 1050, ey: 150, w: 2 }
];

vines.forEach(vine => {
    drawVine(vine.sx, vine.sy, vine.cx, vine.cy, vine.ex, vine.ey, vine.w, colors.copper);
});

// Draw mechanical leaves along vines
const leaves = [
    { x: 450, y: 320, size: 25, angle: toRad(45), type: 'gear' },
    { x: 750, y: 340, size: 30, angle: toRad(-30), type: 'plate' },
    { x: 420, y: 480, size: 22, angle: toRad(60), type: 'gear' },
    { x: 600, y: 200, size: 20, angle: toRad(90), type: 'plate' },
    { x: 200, y: 200, size: 18, angle: toRad(-45), type: 'gear' },
    { x: 780, y: 460, size: 24, angle: toRad(30), type: 'plate' }
];

leaves.forEach(leaf => {
    drawMechanicalLeaf(leaf.x, leaf.y, leaf.size, leaf.angle, leaf.type);
});

// Draw mechanical bees
const bees = [
    { x: 500, y: 300, rot: toRad(30) },
    { x: 700, y: 350, rot: toRad(-20) },
    { x: 400, y: 500, rot: toRad(45) },
    { x: 800, y: 450, rot: toRad(-40) },
    { x: 550, y: 200, rot: toRad(10) }
];

bees.forEach((bee, i) => {
    drawMechanicalBee(bee.x, bee.y, bee.rot, 0.8 + (i % 2) * 0.2);
});

// Add some brass rivets and detail dots
for (let i = 0; i < 30; i++) {
    const x = random(100, 1100);
    const y = random(100, 700);
    const r = random(2, 5);
    ctx.beginPath();
    ctx.arc(x, y, r, 0, Math.PI * 2);
    ctx.fillStyle = colors.gold;
    ctx.fill();
    ctx.strokeStyle = colors.darkCopper;
    ctx.lineWidth = 1;
    ctx.stroke();
}

// Add title
ctx.font = '24px Georgia, serif';
ctx.fillStyle = colors.brass;
ctx.textAlign = 'center';
ctx.fillText('Clockwork Garden', 600, 750);

// Add subtle glow overlay
const glow = ctx.createRadialGradient(600, 400, 50, 600, 400, 400);
glow.addColorStop(0, 'rgba(212, 168, 83, 0.1)');
glow.addColorStop(1, 'rgba(0, 0, 0, 0)');
ctx.fillStyle = glow;
ctx.fillRect(0, 0, 1200, 800);

</script>
</body>
</html>