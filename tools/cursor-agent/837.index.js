try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="95c328fa-8ea7-43d1-bd9a-25fcdc964e8f",e._sentryDebugIdIdentifier="sentry-dbid-95c328fa-8ea7-43d1-bd9a-25fcdc964e8f")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"agent-cli@2026.01.28-fd13201"}}catch(e){}}(),exports.id=837,exports.ids=[837],exports.modules={"./src/commands/mcp-list.tsx":(e,n,r)=>{r.a(e,(async(e,t)=>{try{r.r(n),r.d(n,{handleMcpList:()=>x});var s=r("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),i=r("node:os"),o=r("node:path"),d=r.n(o),c=r("../ink/build/index.js"),a=r("../mcp-agent-exec/dist/index.js"),l=r("./src/mcp/disabled-store.ts"),u=r("./src/mcp/project-paths.ts"),f=e([c]);c=(f.then?(await f)():f)[0];var p=function(e,n,r,t){return new(r||(r=Promise))((function(s,i){function o(e){try{c(t.next(e))}catch(e){i(e)}}function d(e){try{c(t.throw(e))}catch(e){i(e)}}function c(e){var n;e.done?s(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,d)}c((t=t.apply(e,n||[])).next())}))};function h({status:e}){return"ready"===e?(0,s.jsx)(c.EY,{color:"green",children:"ready"}):"requires_authentication"===e||"loading"===e?(0,s.jsx)(c.EY,{color:"yellow",children:"requires_authentication"===e?"requires_authentication":"loading"}):"disabled"===e?(0,s.jsx)(c.EY,{color:"gray",children:"disabled"}):"unapproved"===e?(0,s.jsx)(c.EY,{color:"yellow",children:"not loaded (needs approval)"}):(0,s.jsxs)(c.EY,{color:"red",children:["Error: ",e.error]})}function y({entries:e}){return 0===e.length?(0,s.jsx)(c.az,{flexDirection:"column",children:(0,s.jsx)(c.EY,{children:"No MCP servers configured (expected in .cursor/mcp.json or ~/.cursor/mcp.json)"})}):(0,s.jsx)(c.az,{flexDirection:"column",children:e.map((e=>(0,s.jsxs)(c.az,{gap:1,children:[(0,s.jsxs)(c.EY,{children:[e.id,":"]}),(0,s.jsx)(h,{status:e.status})]},e.id)))})}function x(e,n){return p(this,void 0,void 0,(function*(){var r;const{rerender:t}=(0,c.XX)((0,s.jsx)(c.EY,{children:"Loading MCPsâ€¦"}));try{const{projectRoot:r,approvalPath:o,disabledPath:c}=(0,u.C)(process.cwd()),f=d().join(r,".cursor","mcp.json"),h=d().join((0,i.homedir)(),".cursor","mcp.json"),[x,m]=yield Promise.all([(0,a.h1)(h).catch((()=>({mcpServers:{}}))),(0,a.h1)(f).catch((()=>({mcpServers:{}})))]),g=(0,a.N_)(x,m),j=Object.keys(g.mcpServers),v=new l.P(c),b=yield v.getDisabledServers(),w=new a.mF(o,r),E=yield w.getApprovals(),_=(yield n.load(e)).getClients(),Y=yield Promise.all(j.map((n=>p(this,void 0,void 0,(function*(){if(b.includes(n))return{id:n,status:"disabled"};const t=g.mcpServers[n],s=(0,a.Ko)(n,t,r);if(!E.includes(s))return{id:n,status:"unapproved"};const i=_[n];if(!i)return{id:n,status:{error:"Connection failed"}};try{const r=yield i.getState(e);return{id:n,status:r.kind}}catch(e){return{id:n,status:{error:"Connection failed"}}}})))));t((0,s.jsx)(y,{entries:Y})),process.exit(0)}catch(e){const n=null!==(r=null==e?void 0:e.message)&&void 0!==r?r:String(e);t((0,s.jsx)(c.az,{flexDirection:"column",children:(0,s.jsxs)(c.EY,{color:"red",children:["Failed to list MCP servers: ",n]})})),process.exit(1)}}))}t()}catch(m){t(m)}}))}};