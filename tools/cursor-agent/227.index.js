try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="988095c0-57da-411f-ba4e-6b455d09193d",e._sentryDebugIdIdentifier="sentry-dbid-988095c0-57da-411f-ba4e-6b455d09193d")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"agent-cli@2026.01.28-fd13201"}}catch(e){}}(),exports.id=227,exports.ids=[227],exports.modules={"./src/commands/dev-login.tsx":(e,s,n)=>{n.a(e,(async(e,t)=>{try{n.r(s),n.d(s,{handleDevLogin:()=>l});var r=n("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),i=n("../ink/build/index.js"),o=n("./src/components/login-ui.tsx"),c=e([i,o]);[i,o]=c.then?(await c)():c;var a=function(e,s,n,t){return new(n||(n=Promise))((function(r,i){function o(e){try{a(t.next(e))}catch(e){i(e)}}function c(e){try{a(t.throw(e))}catch(e){i(e)}}function a(e){var s;e.done?r(e.value):(s=e.value,s instanceof n?s:new n((function(e){e(s)}))).then(o,c)}a((t=t.apply(e,s||[])).next())}))};function l(e){return a(this,arguments,void 0,(function*(e,s={}){const{rerender:n}=(0,i.XX)((0,r.jsx)(o.a,{status:"starting"})),t=process.env.NODE_TLS_REJECT_UNAUTHORIZED;try{const t=s.endpoint||"https://localhost:8000",i=s.email,c=new URLSearchParams;i&&c.set("email",i),s.trial&&c.set("trial","true");const a=`${t}/auth/cursor_dev_session_token?${c.toString()}`;n((0,r.jsx)(o.a,{status:"in-progress",message:`Authenticating with dev backend at ${t}...`})),s.insecure&&t.startsWith("https:")&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0");const l=yield fetch(a);if(!l.ok){const e=yield l.text();throw new Error(`Dev authentication failed (${l.status}): ${e}`)}const d=yield l.json();if(null==d?void 0:d.accessToken)try{yield e.setAuthentication(d.accessToken,d.refreshToken);const t=s.trial?"free trial":"pro",i=s.insecure?" (insecure SSL)":"";n((0,r.jsx)(o.a,{status:"success",message:`Dev authentication successful!${i} Logged in with ${t} account.\nAuth ID: ${d.authId}`}))}catch(e){const s=`Failed to store dev authentication tokens.\nAccess token: ${d.accessToken}`;n((0,r.jsx)(o.a,{status:"error",message:s}))}else n((0,r.jsx)(o.a,{status:"error",message:"Dev login failed - invalid response from server."})),process.exit(1)}catch(e){const t=e instanceof TypeError&&e.message.includes("fetch");let i;i=e instanceof Error&&(e.message.includes("certificate")||e.message.includes("self signed")||e.message.includes("unable to verify"))&&!s.insecure?`SSL certificate error. Try using the -k flag to ignore certificate validation: ${e}`:t?`Failed to connect to dev backend. Make sure the development server is running at ${s.endpoint||"https://localhost:8000"}.`:`Dev login error: ${e}`,n((0,r.jsx)(o.a,{status:"error",message:i})),process.exit(1)}finally{void 0!==t?process.env.NODE_TLS_REJECT_UNAUTHORIZED=t:delete process.env.NODE_TLS_REJECT_UNAUTHORIZED}process.exit(0)}))}t()}catch(d){t(d)}}))},"./src/components/login-ui.tsx":(e,s,n)=>{n.a(e,(async(e,t)=>{try{n.d(s,{L:()=>a,a:()=>c});var r=n("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),i=n("../ink/build/index.js"),o=e([i]);i=(o.then?(await o)():o)[0];const c=({status:e,message:s,userInfo:n,loginUrl:t})=>(0,r.jsx)(i.az,{flexDirection:"column",padding:1,children:(()=>{switch(e){case"starting":return(0,r.jsx)(i.az,{children:(0,r.jsx)(i.EY,{children:"Starting login process..."})});case"in-progress":return(0,r.jsxs)(i.az,{flexDirection:"column",gap:1,children:[(0,r.jsx)(i.az,{children:(0,r.jsx)(i.EY,{children:"Authenticating with Cursor..."})}),s&&(0,r.jsx)(i.EY,{children:s}),t&&(0,r.jsx)(i.EY,{color:"gray",wrap:"no-wrap",children:t})]});case"success":return(0,r.jsxs)(i.az,{flexDirection:"column",children:[(0,r.jsxs)(i.EY,{children:[(0,r.jsx)(i.EY,{color:"green",children:"✓ "}),(null==n?void 0:n.email)?(0,r.jsxs)(i.EY,{children:["Logged in as ",n.email]}):(null==n?void 0:n.userId)?(0,r.jsxs)(i.EY,{children:["Logged in as user id ",n.userId]}):(0,r.jsx)(i.EY,{children:"Login successful!"})]}),s&&(0,r.jsx)(i.EY,{children:s})]});case"error":return(0,r.jsx)(i.az,{flexDirection:"column",children:s&&(0,r.jsx)(i.EY,{color:"red",children:s})})}})()}),a=({status:e,message:s})=>(0,r.jsx)(i.az,{flexDirection:"column",padding:1,children:(()=>{switch(e){case"starting":return(0,r.jsx)(i.az,{children:(0,r.jsx)(i.EY,{children:"Preparing to log out..."})});case"in-progress":return(0,r.jsx)(i.az,{children:(0,r.jsx)(i.EY,{children:"Logging out..."})});case"success":return(0,r.jsxs)(i.az,{flexDirection:"column",children:[(0,r.jsx)(i.EY,{color:"green",children:"✓ Logout successful"}),s&&(0,r.jsx)(i.EY,{children:s})]});case"error":return(0,r.jsxs)(i.az,{flexDirection:"column",children:[(0,r.jsx)(i.EY,{color:"red",children:"✗ Logout failed"}),s&&(0,r.jsx)(i.EY,{color:"red",children:s})]})}})()});t()}catch(e){t(e)}}))}};