try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="256f66f0-fb03-4a68-985f-f3866a253864",e._sentryDebugIdIdentifier="sentry-dbid-256f66f0-fb03-4a68-985f-f3866a253864")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"agent-cli@2026.02.13-41ac335"}}catch(e){}}(),exports.id=549,exports.ids=[549],exports.modules={"./src/color-gallery.tsx":(e,t,n)=>{n.a(e,(async(e,r)=>{try{n.r(t),n.d(t,{runColorGallery:()=>D});var o=n("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),d=n("../agent-kv/dist/index.js"),a=n("../cursor-config/dist/index.js"),i=n("../ink/build/index.js"),s=n("../local-exec/dist/index.js"),l=n("../proto/dist/generated/agent/v1/agent_pb.js"),c=n("../../node_modules/.pnpm/react@19.2.3/node_modules/react/index.js"),u=n("./src/constants.ts"),h=n("./src/context/agent-state-context.tsx"),m=n("./src/context/terminal-state-context.tsx"),f=n("./src/context/theme-context.tsx"),g=n("./src/context/vim-mode-context.tsx"),v=n("./src/debug.ts"),x=n("./src/hooks/use-screen-size.ts"),p=n("./src/models/index.ts"),M=n("./src/pending-decision-store.ts"),b=n("./src/utils/color-mixing.ts"),w=n("./src/utils/input-keys.ts"),y=e([i,m,f,x]);[i,m,f,x]=y.then?(await y)():y;var $=function(e,t,n,r){return new(n||(n=Promise))((function(o,d){function a(e){try{s(r.next(e))}catch(e){d(e)}}function i(e){try{s(r.throw(e))}catch(e){d(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((r=r.apply(e,t||[])).next())}))};const T=()=>{const e=[];for(let t=0;t<=255;t+=1)e.push({index:t,hex:(0,b.LR)(t)});return e},k="- old line here\n+ new line here\n  context no-change line\n+ another addition with tabs\tand\tcolumns\n- removal item",E=8,j=()=>{var e;const{stdout:t}=(0,i.t$)(),n=(0,x.l)(),[r,o]=(0,c.useState)((()=>S((0,b.PT)(),!1).add)),[d,a]=(0,c.useState)((()=>S((0,b.PT)(),!1).remove)),[s,l]=(0,c.useState)("add"),[u,h]=(0,c.useState)(null),m=(0,f.pW)(),g=(0,c.useMemo)((()=>null!=u?u:null!=m&&m),[m,u]),p=(0,c.useMemo)(T,[]),M=Math.ceil(p.length/E),y=Math.max(3,(null!==(e=null==n?void 0:n.height)&&void 0!==e?e:24)-2-7-2-1),$=Math.max(1,Math.floor(y/3)),[D,j]=(0,c.useState)(0);(0,c.useEffect)((()=>{if(t)try{t.write("[?1049h[?7l[?1h=")}catch(e){}return()=>{if(t)try{t.write("[?1l>[?7h[?1049l")}catch(e){}}}),[t]);const P=(0,c.useCallback)((e=>{const t=Math.floor(e/E);t<D?j(t):t>=D+$&&j(Math.max(0,t-$+1))}),[$,D]),[A,R]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{if(A)return;const e=S((0,b.PT)(),g);o(e.add),a(e.remove),P(e.add)}),[g,P,A]),(0,i.Ge)(((e,n)=>{if((0,w.xv)(e,n)||"q"===e||"Q"===e){try{null==t||t.write("[2J[H")}catch(e){}process.exit(0)}if(n.return||n.tab||" "===e)return void l((e=>"add"===e?"remove":"add"));if("+"===e||"A"===e||"a"===e)return void l("add");if("-"===e||"D"===e||"d"===e)return void l("remove");if("t"===e||"T"===e)return void h((e=>null==e?!m:!e));if("r"===e||"R"===e){const e=S((0,b.PT)(),null!=u?u:Boolean(m));return o(e.add),a(e.remove),void P(e.add)}const r=E;if(n.leftArrow)return R(!0),void("add"===s?o((e=>{const t=Math.max(0,e-1);return P(t),t})):a((e=>{const t=Math.max(0,e-1);return P(t),t})));if(n.rightArrow)return R(!0),void("add"===s?o((e=>{const t=Math.min(255,e+1);return P(t),t})):a((e=>{const t=Math.min(255,e+1);return P(t),t})));if((0,w.Po)(e,n))return R(!0),void("add"===s?o((e=>{const t=Math.max(0,e-r);return P(t),t})):a((e=>{const t=Math.max(0,e-r);return P(t),t})));if((0,w.u$)(e,n))return R(!0),void("add"===s?o((e=>{const t=Math.min(255,e+r);return P(t),t})):a((e=>{const t=Math.min(255,e+r);return P(t),t})));const d=n;return d.pageDown?(R(!0),j((e=>Math.min(Math.max(0,M-$),e+$))),void("add"===s?o((e=>{const t=Math.floor(e/r),n=Math.min(M-1,t+$),o=e%r,d=Math.min(p.length-1,n*r+o);return P(d),d})):a((e=>{const t=Math.floor(e/r),n=Math.min(M-1,t+$),o=e%r,d=Math.min(p.length-1,n*r+o);return P(d),d})))):d.pageUp?(R(!0),j((e=>Math.max(0,e-$))),void("add"===s?o((e=>{const t=Math.floor(e/r),n=Math.max(0,t-$),o=e%r,d=Math.min(p.length-1,n*r+o);return P(d),d})):a((e=>{const t=Math.floor(e/r),n=Math.max(0,t-$),o=e%r,d=Math.min(p.length-1,n*r+o);return P(d),d})))):void 0})),(0,c.useEffect)((()=>{var e,o;if(!t)return;null==n||n.width;const a=null!==(e=null==n?void 0:n.height)&&void 0!==e?e:24,i=e=>{try{t.write(e)}catch(e){}},l=(e,t)=>i(`[${e};${t}H`),c=()=>i("[2K"),h=e=>`[48;5;${e}m`,f="[1m";i("[?25l"),l(1,1),c(),i(`${f}ANSI-256 Color Gallery[22m`),l(2,1),c();const g="add"===s?"[1;92mADD[0m":"[1;91mREMOVE[0m";i(`Theme: ${null!=u?u?"forced light":"forced dark":null==m?"detected dark":m?"detected light":"detected dark"}  ‚Ä¢  Color mode: ${(0,b.PT)()}  ‚Ä¢  Mode: ${g}  ‚Ä¢  Arrows: move ‚Ä¢ Space/Enter/Tab: toggle add/remove ‚Ä¢ [+]/A: ADD ‚Ä¢ [-]/D: REMOVE ‚Ä¢ T: toggle theme ‚Ä¢ R: reset ‚Ä¢ Q/Esc: exit`);const x="[90m",w="[1;93m";for(let e=0;e<$;e++){const t=D+e;if(t>=M)break;l(3+3*e,1),c();let n="";for(let e=0;e<E;e++){const o=t*E+e;if(o>=p.length)break;n+=`${"add"===s&&o===r||"remove"===s&&o===d?w:"add"===s&&o===d||"remove"===s&&o===r?"[1;96m":x}‚îå${"‚îÄ".repeat(9)}‚îê[0m `}i(n),l(3+3*e+1,1),c();let o="";for(let e=0;e<E;e++){const n=t*E+e;if(n>=p.length)break;const a="add"===s&&n===r||"remove"===s&&n===d,i="add"===s&&n===d||"remove"===s&&n===r,l=String(n).padStart(3," "),c=Math.max(2,5),u=a?w:i?"[1;96m":x;o+=`${u}‚îÇ[0m`,o+=`${h(n)}${" ".repeat(c)}[0m ${l}`,o+=`${u}‚îÇ[0m `}i(o),l(3+3*e+2,1),c();let a="";for(let e=0;e<E;e++){const n=t*E+e;if(n>=p.length)break;a+=`${"add"===s&&n===r||"remove"===s&&n===d?w:"add"===s&&n===d||"remove"===s&&n===r?"[1;96m":x}‚îî${"‚îÄ".repeat(9)}‚îò[0m `}i(a)}const y=3+3*$+1;l(y,1),c(),i(`${f}Preview (ANSI-256, using selected color)[22m`);const S=k.split("\n");for(let e=0;e<Math.min(S.length,7);e++){l(y+1+e,1),c();const t=S[e],n=t.startsWith("+")?"add":t.startsWith("-")?"remove":"other";i("add"===n?`${h(r)} ${t}[0m`:"remove"===n?`${h(d)} ${t}[0m`:` ${t}`)}l(a-1,1),c();const T=(0,b.LR)(r),j=(0,b.LR)(d);i(`Picked ‚Äî Add: #${String(r).padStart(3," ")} ${T}   ¬∑   Remove: #${String(d).padStart(3," ")} ${j}`),l(a,1),c();const P=null===(o=null===v.getDebugSession||void 0===v.getDebugSession?void 0:(0,v.getDebugSession)())||void 0===o?void 0:o.serverUrl;i(P?`q/esc: exit   ¬∑   Debug: ${P}  (log: ${P}/log)`:"q/esc: exit"),i("[0m"),i("[?25h")}),[t,null==n?void 0:n.width,null==n?void 0:n.height,r,d,s,D,$,M,m,u,p.length]),null};function S(e,t){return t?{add:u.Xh.add,remove:u.Xh.remove}:{add:u.XM.add,remove:u.XM.remove}}const P=()=>{const e=new l.ModelDetails({modelId:"gpt-5",displayModelId:"gpt-5",displayName:"Color Gallery"}),t=p.P3.createForTesting();t.setCurrentModelWithoutPersistence(e);const n=new d.pH(new d.ve,new d.We);try{n.setMetadata("mode","default")}catch(e){}return(0,o.jsx)(g.l,{configProvider:new a.LV,children:(0,o.jsx)(m.rs,{children:(0,o.jsx)(f.NP,{children:(0,o.jsx)(h.oG,{fileChangeTracker:new s.$1(process.cwd()),pendingDecisionStore:new M.$U,initialViewMode:"chat",initialAgentStore:n,modelManager:t,children:(0,o.jsx)(j,{})})})})})};function D(){return $(this,void 0,void 0,(function*(){var e,t;if(process.argv.includes("--debug"))try{yield(0,v.initDebug)();const n=null!==(t=null===(e=(0,v.getDebugSession)())||void 0===e?void 0:e.serverUrl)&&void 0!==t?t:"";try{process.stdout.write(`Debug enabled. Server: ${n}  log: ${n}/log  events: ${n}/events\n`)}catch(e){}(0,v.debugLog)("color-gallery.debug.start",{argv:process.argv,url:n,pid:process.pid})}catch(e){}const{waitUntilExit:n}=(0,i.XX)((0,o.jsx)(P,{}),{exitOnCtrlC:!0});yield n()}))}r()}catch(A){r(A)}}))}};