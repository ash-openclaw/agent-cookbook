try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ba2951d4-cc08-4422-a596-7ab55178c1ec",e._sentryDebugIdIdentifier="sentry-dbid-ba2951d4-cc08-4422-a596-7ab55178c1ec")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"agent-cli@2026.02.13-41ac335"}}catch(e){}}(),exports.id=837,exports.ids=[837],exports.modules={"./src/commands/mcp-list.tsx":(e,n,r)=>{r.a(e,(async(e,t)=>{try{r.r(n),r.d(n,{handleMcpList:()=>x});var s=r("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),i=r("node:os"),o=r("node:path"),c=r.n(o),d=r("../ink/build/index.js"),a=r("../mcp-agent-exec/dist/index.js"),l=r("./src/mcp/disabled-store.ts"),u=r("./src/mcp/project-paths.ts"),p=e([d]);d=(p.then?(await p)():p)[0];var f=function(e,n,r,t){return new(r||(r=Promise))((function(s,i){function o(e){try{d(t.next(e))}catch(e){i(e)}}function c(e){try{d(t.throw(e))}catch(e){i(e)}}function d(e){var n;e.done?s(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,c)}d((t=t.apply(e,n||[])).next())}))};function h({status:e}){return"ready"===e?(0,s.jsx)(d.EY,{color:"green",children:"ready"}):"requires_authentication"===e||"loading"===e?(0,s.jsx)(d.EY,{color:"yellow",children:"requires_authentication"===e?"requires_authentication":"loading"}):"disabled"===e?(0,s.jsx)(d.EY,{color:"gray",children:"disabled"}):"unapproved"===e?(0,s.jsx)(d.EY,{color:"yellow",children:"not loaded (needs approval)"}):(0,s.jsxs)(d.EY,{color:"red",children:["Error: ",e.error]})}function y({entries:e}){return 0===e.length?(0,s.jsx)(d.az,{flexDirection:"column",children:(0,s.jsx)(d.EY,{children:"No MCP servers configured (expected in .cursor/mcp.json or ~/.cursor/mcp.json)"})}):(0,s.jsx)(d.az,{flexDirection:"column",children:e.map((e=>(0,s.jsxs)(d.az,{gap:1,children:[(0,s.jsxs)(d.EY,{children:[e.id,":"]}),(0,s.jsx)(h,{status:e.status})]},e.id)))})}function x(e,n){return f(this,void 0,void 0,(function*(){var r;const{rerender:t}=(0,d.XX)((0,s.jsx)(d.EY,{children:"Loading MCPsâ€¦"}));try{const{projectRoot:r,approvalPath:o,disabledPath:d}=(0,u.C)(process.cwd()),p=c().join(r,".cursor","mcp.json"),h=c().join((0,i.homedir)(),".cursor","mcp.json"),[x,m]=yield Promise.all([(0,a.h1)(h).catch((()=>({mcpServers:{}}))),(0,a.h1)(p).catch((()=>({mcpServers:{}})))]),g=(0,a.N_)(x,m),j=Object.keys(g.mcpServers),b=new l.P(d),v=yield b.getDisabledServers(),w=new a.mF(o,r),E=yield w.getApprovals(),_=(yield n.load(e)).getClients(),Y=yield Promise.all(j.map((n=>f(this,void 0,void 0,(function*(){if(v.includes(n))return{id:n,status:"disabled"};const t=g.mcpServers[n],s=(0,a.Ko)(n,t,r);if(!E.includes(s))return{id:n,status:"unapproved"};const i=_[n];if(!i)return{id:n,status:{error:"Connection failed"}};try{const r=yield i.getState(e);return{id:n,status:r.kind}}catch(e){return{id:n,status:{error:"Connection failed"}}}})))));t((0,s.jsx)(y,{entries:Y})),process.exit(0)}catch(e){const n=null!==(r=null==e?void 0:e.message)&&void 0!==r?r:String(e);t((0,s.jsx)(d.az,{flexDirection:"column",children:(0,s.jsxs)(d.EY,{color:"red",children:["Failed to list MCP servers: ",n]})})),process.exit(1)}}))}t()}catch(m){t(m)}}))}};