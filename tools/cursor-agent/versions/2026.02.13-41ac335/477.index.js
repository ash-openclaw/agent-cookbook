try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="41c5ff92-8ff2-4e95-b150-8f63fddbbebe",e._sentryDebugIdIdentifier="sentry-dbid-41c5ff92-8ff2-4e95-b150-8f63fddbbebe")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"agent-cli@2026.02.13-41ac335"}}catch(e){}}(),exports.id=477,exports.ids=[477],exports.modules={"./src/commands/enable.tsx":(e,n,r)=>{r.a(e,(async(e,o)=>{try{r.r(n),r.d(n,{handleMcpEnable:()=>h});var s=r("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),i=r("node:os"),d=r("node:path"),c=r.n(d),t=r("../ink/build/index.js"),l=r("../mcp-agent-exec/dist/index.js"),a=r("./src/mcp/disabled-store.ts"),f=r("./src/mcp/project-paths.ts"),u=e([t]);t=(u.then?(await u)():u)[0];var p=function(e,n,r,o){return new(r||(r=Promise))((function(s,i){function d(e){try{t(o.next(e))}catch(e){i(e)}}function c(e){try{t(o.throw(e))}catch(e){i(e)}}function t(e){var n;e.done?s(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(d,c)}t((o=o.apply(e,n||[])).next())}))};function b({identifier:e,wasEnabled:n,isNowEnabled:r,error:o}){return o?(0,s.jsx)(t.az,{flexDirection:"column",children:(0,s.jsxs)(t.EY,{color:"red",children:["Failed to enable MCP server: ",o]})}):n?(0,s.jsx)(t.az,{flexDirection:"column",children:(0,s.jsxs)(t.EY,{color:"yellow",children:["MCP server '",e,"' is already enabled and approved"]})}):r?(0,s.jsx)(t.az,{flexDirection:"column",children:(0,s.jsxs)(t.EY,{color:"green",children:["âœ“ Enabled and approved MCP server: ",e]})}):(0,s.jsxs)(t.az,{flexDirection:"column",children:[(0,s.jsxs)(t.EY,{color:"red",children:["MCP server '",e,"' not found in configuration"]}),(0,s.jsx)(t.EY,{color:"gray",children:"Check .cursor/mcp.json or ~/.cursor/mcp.json"})]})}function h(e,n){return p(this,void 0,void 0,(function*(){var e;const{rerender:r}=(0,t.XX)((0,s.jsxs)(t.EY,{children:["Enabling MCP server '",n,"'..."]}));try{const e=process.cwd(),{projectRoot:o,approvalPath:d,disabledPath:t}=(0,f.C)(e),u=new l.mF(d,o),p=new a.P(t),h=c().join((0,i.homedir)(),".cursor","mcp.json"),x=c().join(e,".cursor","mcp.json"),[y,m]=yield Promise.all([(0,l.h1)(h).catch((()=>({mcpServers:{}}))),(0,l.h1)(x).catch((()=>({mcpServers:{}})))]),v=Object.assign(Object.assign({},y.mcpServers),m.mcpServers)[n];v||(r((0,s.jsx)(b,{identifier:n,wasEnabled:!1,isNowEnabled:!1})),process.exit(1));const j=(0,l.Ko)(n,v,o),w=(yield u.getApprovals()).includes(j),g=yield p.isServerDisabled(n),E=!g&&w;g&&(yield p.removeDisabledServer(n)),w||(yield u.addApproval(j)),r((0,s.jsx)(b,{identifier:n,wasEnabled:E,isNowEnabled:!0})),process.exit(0)}catch(o){const i=null!==(e=null==o?void 0:o.message)&&void 0!==e?e:String(o);r((0,s.jsx)(b,{identifier:n,wasEnabled:!1,isNowEnabled:!1,error:i})),process.exit(1)}}))}o()}catch(x){o(x)}}))}};