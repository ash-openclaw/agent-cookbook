try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="870a174d-f075-4f35-9b64-3a3055fdb19d",e._sentryDebugIdIdentifier="sentry-dbid-870a174d-f075-4f35-9b64-3a3055fdb19d")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"agent-cli@2026.01.28-fd13201"}}catch(e){}}(),exports.id=128,exports.ids=[128],exports.modules={"./src/commands/search.tsx":(e,n,o)=>{o.a(e,(async(e,t)=>{try{o.r(n),o.d(n,{handleSearch:()=>g});var r=o("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),s=o("../context/dist/index.js"),i=o("../indexing-client/dist/index.js"),c=o("../ink/build/index.js"),d=o("../proto/dist/generated/aiserver/v1/repository_connect.js"),l=o("../proto/dist/generated/aiserver/v1/repository_pb.js"),a=o("../../node_modules/.pnpm/@connectrpc+connect@1.6.1_patch_hash=a4b9a5e69295313832387f25b708426bcf53041a2f50bc7b95_a276813e7efa8e1efb8a7b0efc1d56a0/node_modules/@connectrpc/connect/dist/esm/promise-client.js"),p=o("../../node_modules/.pnpm/@connectrpc+connect-node@1.6.1_@bufbuild+protobuf@1.10.0_@connectrpc+connect@1.6.1_patc_5282c1319f527254b0f6f6e22c5be0c8/node_modules/@connectrpc/connect-node/dist/esm/index.js"),u=o("./src/components/search-results-ui.tsx"),h=o("./src/console-io.ts"),f=e([c,u]);[c,u]=f.then?(await f)():f;var m=function(e,n,o,t){return new(o||(o=Promise))((function(r,s){function i(e){try{d(t.next(e))}catch(e){s(e)}}function c(e){try{d(t.throw(e))}catch(e){s(e)}}function d(e){var n;e.done?r(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,c)}d((t=t.apply(e,n||[])).next())}))};function x(e){return n=>o=>m(this,void 0,void 0,(function*(){const t=yield e.getAccessToken();if(!t)throw new Error("No access token found");o.header.set("authorization",`Bearer ${t}`);const r=null!=="2026.01.28-fd13201"?"2026.01.28-fd13201":"unknown";return o.header.set("x-cursor-client-version",`cli-${r}`),yield n(o)}))}class y{constructor(e,n,o){this.repoName=e,this.repoOwner=n,this.pathEncryptionKey=o}loadRepositoryIdentity(){const e=new i.Gv(this.pathEncryptionKey);return Promise.resolve({repoName:this.repoName,repoOwner:this.repoOwner,encryptionScheme:e})}}function g(e,n,o,t){return m(this,void 0,void 0,(function*(){const{rerender:f}=(0,c.XX)((0,r.jsxs)(c.EY,{children:['ðŸ” Searching for "',e,'"...']}));try{const h=(0,s.q6)(),m=yield n.getRepositoryInfo();m.repoName&&m.repoOwner||(f((0,r.jsx)(c.EY,{color:"red",children:"âŒ Repository not properly initialized"})),process.exit(1));const g=(0,p.wQ)({baseUrl:t.repoEndpoint,httpVersion:t.repoHttpVersion,interceptors:[x(o)],nodeOptions:{rejectUnauthorized:!t.repoInsecure}}),b=(0,a.UU)(d.B,g),j=new l.Ym({}),v=new y(m.repoName,m.repoOwner,m.pathEncryptionKey||""),w=new i.q$(b,j,v,process.cwd()),_=yield w.search(h,e);f((0,r.jsx)(c.EY,{children:"âœ… Search completed"})),_&&0!==_.length?(0,u.X)(e,_):(0,u.X)(e,[]),process.exit(0)}catch(e){(0,h.p2)(e instanceof Error?e.message:String(e)),process.exit(1)}}))}t()}catch(b){t(b)}}))},"./src/components/path-display.tsx":(e,n,o)=>{o.a(e,(async(e,t)=>{try{o.d(n,{g:()=>d});var r=o("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),s=o("../ink/build/index.js"),i=o("../../node_modules/.pnpm/react@19.2.3/node_modules/react/index.js"),c=e([s]);s=(c.then?(await c)():c)[0];const d=({path:e,maxLength:n=50,separatorColor:o="#aaaaaa",segmentColor:t,ellipsisColor:c="#aaaaaa",dimSeparators:d=!0})=>{const{segments:l,ellipsisIndex:a,separator:p}=function(e,n){const o=e.includes("\\")?"\\":"/";if(e.length<=n)return{segments:e.split(o),separator:o};const t=e.split(o),r=t[t.length-1];if(r.length+3>n)return{segments:["...",r.substring(0,n-3)],ellipsisIndex:0,separator:o};const s=o.length,i=n-r.length-3;let c=0;const d=[];let l=-1;for(let e=0;e<t.length-1;e++){const n=t[e].length+(e>0?s:0);if(!(c+n<=i)){l=d.length;break}d.push(t[e]),c+=n}return-1!==l?(d.splice(l,0,"..."),d.push(r),{segments:d,ellipsisIndex:l,separator:o}):{segments:t,separator:o}}(e,n);return(0,r.jsx)(s.EY,{children:l.map(((e,n)=>{const l=n===a;return(0,r.jsxs)(i.Fragment,{children:[n>0&&!l&&(0,r.jsx)(s.EY,{color:o,dimColor:d,children:p}),l?(0,r.jsx)(s.EY,{color:c,dimColor:!0,children:e}):(0,r.jsx)(s.EY,{color:t,children:e})]},e)}))})};t()}catch(e){t(e)}}))},"./src/components/search-results-ui.tsx":(e,n,o)=>{o.a(e,(async(e,t)=>{try{o.d(n,{X:()=>d});var r=o("../../node_modules/.pnpm/react@19.2.3/node_modules/react/jsx-runtime.js"),s=o("../ink/build/index.js"),i=o("./src/components/path-display.tsx"),c=e([s,i]);[s,i]=c.then?(await c)():c;const l=({result:e,index:n})=>{var o,t,c,d;const l=e.codeBlock;if(!l)return null;const a=l.relativeWorkspacePath;return(0,r.jsx)(s.az,{flexDirection:"column",children:(0,r.jsxs)(s.az,{flexDirection:"row",gap:1,children:[(0,r.jsxs)(s.EY,{color:"cyan",bold:!0,children:[(n+1).toString().padStart(3," "),"."]}),(0,r.jsx)(i.g,{path:a}),(0,r.jsxs)(s.EY,{color:"gray",children:["(L",null===(t=null===(o=l.range)||void 0===o?void 0:o.startPosition)||void 0===t?void 0:t.line," - L",null===(d=null===(c=l.range)||void 0===c?void 0:c.endPosition)||void 0===d?void 0:d.line,")"]})]})})},a=({query:e,results:n})=>0===n.length?(0,r.jsx)(s.az,{flexDirection:"column",children:(0,r.jsxs)(s.EY,{color:"yellow",children:['No results found for "',e,'"']})}):(0,r.jsxs)(s.az,{flexDirection:"column",children:[(0,r.jsxs)(s.EY,{color:"green",bold:!0,children:["Found ",n.length," result",1!==n.length?"s":"",' for "',e,'"']}),n.map(((e,n)=>{var o,t,s;return(0,r.jsx)(l,{result:e,index:n},`${null!==(t=null===(o=e.codeBlock)||void 0===o?void 0:o.relativeWorkspacePath)&&void 0!==t?t:""}-${null!==(s=e.score)&&void 0!==s?s:0}-${n}`)}))]});function d(e,n){(0,s.XX)((0,r.jsx)(a,{query:e,results:n}))}t()}catch(p){t(p)}}))}};