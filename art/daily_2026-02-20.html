<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Flowing Echoes</title>
    <style>
        body { margin: 0; background: #0a0a12; }
        canvas { display: block; }
    </style>
</head>
<body>
<canvas id="canvas" width="1200" height="800"></canvas>
<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

// Deep space gradient background
const gradient = ctx.createLinearGradient(0, 0, 0, 800);
gradient.addColorStop(0, '#0a0a12');
gradient.addColorStop(0.5, '#1a1028');
gradient.addColorStop(1, '#0d1a1a');
ctx.fillStyle = gradient;
ctx.fillRect(0, 0, 1200, 800);

// Particle class with flowing motion
class Particle {
    constructor(x, y, hue) {
        this.x = x;
        this.y = y;
        this.vx = 0;
        this.vy = 0;
        this.hue = hue;
        this.life = 1;
        this.decay = 0.003 + Math.random() * 0.005;
        this.trail = [];
        this.maxTrail = 20 + Math.floor(Math.random() * 30);
    }

    update(noiseX, noiseY) {
        // Flow field influence
        this.vx += noiseX * 0.2;
        this.vy += noiseY * 0.2;
        
        // Friction
        this.vx *= 0.95;
        this.vy *= 0.95;
        
        // Update position
        this.x += this.vx;
        this.y += this.vy;
        
        // Trail management
        this.trail.push({ x: this.x, y: this.y, life: this.life });
        if (this.trail.length > this.maxTrail) {
            this.trail.shift();
        }
        
        this.life -= this.decay;
    }
}

// Simple noise function
function noise(x, y, t) {
    const scale = 0.008;
    return Math.sin(x * scale + t) * Math.cos(y * scale + t * 0.5) * 
           Math.sin((x + y) * scale * 0.5);
}

const particles = [];
const numEmitters = 5;

// Create emitters
const emitters = [];
for (let i = 0; i < numEmitters; i++) {
    emitters.push({
        x: 200 + i * 200 + (Math.random() - 0.5) * 100,
        y: 200 + Math.random() * 400,
        hue: 180 + i * 30 + Math.random() * 40,
        t: Math.random() * Math.PI * 2
    });
}

// Animation frames
let time = 0;
for (let frame = 0; frame < 400; frame++) {
    time += 0.02;
    
    // Emit new particles
    emitters.forEach(emitter => {
        emitter.t += 0.02;
        if (frame % 3 === 0 && Math.random() > 0.3) {
            const count = 2 + Math.floor(Math.random() * 3);
            for (let i = 0; i < count; i++) {
                particles.push(new Particle(emitter.x, emitter.y, emitter.hue + Math.random() * 20 - 10));
            }
        }
    });
    
    // Update and draw particles
    for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        
        // Calculate flow field
        const noiseX = noise(p.x, p.y, time);
        const noiseY = noise(p.x + 1000, p.y + 1000, time);
        
        p.update(noiseX, noiseY);
        
        // Draw trail
        if (p.trail.length > 1) {
            ctx.beginPath();
            ctx.moveTo(p.trail[0].x, p.trail[0].y);
            
            for (let j = 1; j < p.trail.length; j++) {
                const curr = p.trail[j];
                const prev = p.trail[j - 1];
                const mx = (curr.x + prev.x) / 2;
                const my = (curr.y + prev.y) / 2;
                ctx.quadraticCurveTo(prev.x, prev.y, mx, my);
            }
            
            const last = p.trail[p.trail.length - 1];
            ctx.lineTo(last.x, last.y);
            
            const alpha = Math.max(0, p.life * 0.4);
            const lightness = 40 + p.life * 30;
            ctx.strokeStyle = `hsla(${p.hue}, 70%, ${lightness}%, ${alpha})`;
            ctx.lineWidth = 1.5 * p.life + 0.5;
            ctx.stroke();
        }
        
        // Remove dead particles
        if (p.life <= 0 || p.x < -50 || p.x > 1250 || p.y < -50 || p.y > 850) {
            particles.splice(i, 1);
        }
    }
}

// Add subtle glow orbs
ctx.globalCompositeOperation = 'screen';
for (let i = 0; i < 8; i++) {
    const x = 150 + (i * 140) + Math.random() * 40;
    const y = 150 + Math.random() * 500;
    const radius = 30 + Math.random() * 40;
    const hue = 160 + i * 25;
    
    const rg = ctx.createRadialGradient(x, y, 0, x, y, radius);
    rg.addColorStop(0, `hsla(${hue}, 80%, 60%, 0.3)`);
    rg.addColorStop(1, `hsla(${hue}, 80%, 40%, 0)`);
    ctx.fillStyle = rg;
    ctx.beginPath();
    ctx.arc(x, y, radius, 0, Math.PI * 2);
    ctx.fill();
}

// Add title-like element
ctx.globalCompositeOperation = 'source-over';
ctx.font = 'italic 300 14px Georgia, serif';
ctx.fillStyle = 'rgba(200, 200, 200, 0.3)';
ctx.textAlign = 'right';
ctx.fillText('Ash â†’ Discord Art Battle', 1180, 780);
</script>
</body>
</html>